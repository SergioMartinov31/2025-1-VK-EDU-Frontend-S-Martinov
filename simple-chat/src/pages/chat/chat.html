<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>Send a message</title>
    </head>
    <body>
        <header class="chat-header">
            <!-- <div class="header-icons">
                <img src="/some.svg" width="30" height="30" alt="icons"/>
            </div> -->
            <div class="header-menu">
                <img class="back-btn" src="/back.svg" width="50" height="50"/>
                <div class="user-box">
                    <div class="avatar-box">
                        <img src="/avatar.svg" width="65" height="65"/>
                    </div>
                    <div class="name-box">
                        <span class="name">Дженнифер Адамс</span>
                        <span class="isOnline">была 2 часа назад</span>
                    </div>
                </div>
                <div class="search-box">
                <img src="/search.svg" width="50" height="50" />
                <img src="/dots.svg" width="50" height="50"/>
                </div>
            </div>
        </header>
        <form class="form" action="/">
            <div class="message-container">
            <div class="message">
                <span class="message-time">432432</span>
            </div>

            </div>
            <div class="input-container">
                <input class="form-input" name="message-text" placeholder="Сообщение" type="text">
                <img src="/attachment.svg" width="34px" height="34px" alt="attach file">
            </div>
        </form>
        <!-- <script>
            const form = document.querySelector('form');
            const input = document.querySelector('.form-input');
            const message = document.querySelector('.message');
            const container = document.querySelector('.message-container');

            function loadMessages(showLastOnly = false) {
                let messagesList = JSON.parse(localStorage.getItem('chatMessages')) || [];
                console.log(messagesList);
                if (showLastOnly && messagesList.length > 0){
                    item = messagesList[messagesList.length - 1]
                    const messageEl = document.createElement('div');
                    const messageTimeEl = document.createElement('span');
                    messageEl.className = 'message';
                    messageEl.innerText = item.message;

                    messageTimeEl.className = "message-time";
                    messageTimeEl.innerText = item.time;

                    container.appendChild(messageEl);
                    messageEl.appendChild(messageTimeEl);
                } else {
                messagesList.forEach((item) => {
                    const messageEl = document.createElement('div');
                    const messageTimeEl = document.createElement('span');
                    messageEl.className = 'message';
                    messageEl.innerText = item.message;

                    messageTimeEl.className = "message-time";
                    messageTimeEl.innerText = item.time;

                    container.appendChild(messageEl);
                    messageEl.appendChild(messageTimeEl);
                })
                }
            }

            function handleKeyPress (event) {
                if (event.keyCode === 13) {
                    event.preventDefault()
                    let text = input.value;
                    input.value = '';

                    const newMessage = {
                        message: text,
                        name: "User",
                        time: `23:41`
                    };
                    const messagesList = JSON.parse(localStorage.getItem('chatMessages')) || [];
                    messagesList.push(newMessage);
                    localStorage.setItem('chatMessages', JSON.stringify(messagesList));
                    form.dispatchEvent(new Event('submit'));
                }
            }

            function handleSubmit (event) {
                event.preventDefault();
                loadMessages(true);
            }

            form.addEventListener('submit', this.handleSubmit.bind(this));
            form.addEventListener('keypress', this.handleKeyPress.bind(this));

            container.innerHTML = '';
            loadMessages(false);
        </script> -->
    <script type="text/javascript" src="bundle.js"></script>
</body>
</html>
